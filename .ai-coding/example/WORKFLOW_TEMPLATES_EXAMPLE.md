# 工作流模板

开始任务前，选择对应类型，按步骤推进。若不确定类型，默认走 `fix` 并补充说明。

通用约束：每次阶段结束必须更新 `PROJECT_STATE.md`

---

## feat（新功能/页面）

入口分流
1. 是否新增页面/路由？
2. 是否新增配置或数据源？
3. 是否涉及新文案或 i18n？

最小问题集
- 目标页面/路由名称？
- 期望行为与验收标准？

动作清单
- [ ] 确认路由与目录约定
- [ ] 复用或新增组件
- [ ] 补充配置与类型定义
- [ ] 更新文案（如有 i18n）
- [ ] 运行 lint

完成标准
- 页面/功能可用，符合验收标准
- Lint 通过

---

## fix（问题修复）

入口分流
1. 是否可复现？
2. 是否有报错日志？
3. 是否是最近改动引起？

最小问题集
- 复现步骤 + 期望行为 + 实际表现？
- 涉及页面/组件/接口？

动作清单
- [ ] 定位触发路径与责任边界
- [ ] 最小修复
- [ ] 回归检查

完成标准
- 缺陷不再复现
- Lint 通过

---

## refactor（重构）

入口分流
1. 是否改变外部行为？
2. 是否需要分阶段？

最小问题集
- 重构动机与范围？
- 不变量与不可破坏的行为？

动作清单
- [ ] 定义边界与不变量
- [ ] 小步替换并验证
- [ ] 更新相关文档

完成标准
- 外部行为保持一致
- Lint/Test 通过

---

## chore（工程化/依赖/配置）

入口分流
1. 是否涉及依赖升级？
2. 是否影响构建/CI？

最小问题集
- 目标依赖/配置？
- 变更动机与风险？

动作清单
- [ ] 更新依赖或配置
- [ ] 运行 lint/build/test
- [ ] 记录兼容性变化

完成标准
- 变更生效
- 关键脚本通过

---

## docs（文档更新）

入口分流
1. 是否为新增文档？
2. 是否涉及规范变更？

动作清单
- [ ] 更新文档与链接
- [ ] 标明更新时间

完成标准
- 文档可读且信息一致

---

## test（测试）

入口分流
1. 是否新增测试？
2. 是否修复测试失败？

动作清单
- [ ] 补充/修复测试
- [ ] 确保稳定性

完成标准
- 用例稳定通过
